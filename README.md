# C&A - Rindus Automation Challenge

************************************************************************************************************
************************************************************************************************************
_Documentation written by Juan Vazquez_

This repository utilizes Playwright for end-to-end automation. 

What is [Playwright](https://playwright.dev/)? 

Playwright is an open-source automation framework developed by Microsoft for end-to-end testing of web applications. It allows developers to automate interactions with web browsers (Chrome, Firefox, and WebKit) to test the behavior and performance of their apps. Key features include:
- **Cross-browser support**: Automates testing on multiple browsers (Chromium, Firefox, WebKit).
- **Headless and headful modes**: Runs tests with or without a visible browser UI.
- **API testing**: Allows testing of network requests and responses alongside UI testing.
- **Parallel execution**: Supports running multiple tests simultaneously to speed up testing.
- **Automatic retries**: Handles flaky tests by retrying them automatically.
Playwright is widely used for functional, regression, and performance testing of web apps across different platforms.

### Prerequisits:
[Visual Studio Code](https://code.visualstudio.com/)

[Node.js Version LTS](https://nodejs.org/en/download/releases/)

[Faker](https://fakerjs.dev/)

1. VSC Extensions: 
- Playwright Test for VSCode from Microsoft
- Copy File Name
- Open Default Browser

2. Install the dotenv package: npm install dotenv


### How to execute tests:
Is launched headless mode.
1. For API testing:
- npx playwright test --project=API**

2. For UI testing: (examples)
- npx playwright test e2e/tests-ui**
- npx playwright test e2e/tests-ui --project="Google Chrome"

---

## Project Structure

```
automation-challenge/
├── e2e/                          # Main folder for all automated tests
│   ├── tests-api/                # API testing area
│   │   ├── specs/                # API test cases
│   │   └── utils/                # API-specific helper functions
│   └── tests-ui/                 # UI (browser) testing area
│       ├── fixtures/             # Playwright fixtures for test setup
│       ├── poms/                 # Page Object Models (encapsulated UI logic)
│       ├── specs/                # UI test case files
│       └── utils/                # Shared utilities for UI tests
│           └── languageManager/  # Language-specific UI logic (i18n support)
│
├── test-evidence/               # Saved JSON responses, screenshots, or logs
│   ├── api/
│   └── ui/
│
├── test-results/                # Raw test output folders (per test + browser)
│   └── ...                      # Auto-generated by Playwright after each run
│
├── playwright-report/           # HTML report generated after test run
│
├── node_modules/                # Dependencies installed via npm (ignored in docs)
│
└── playwright.config.ts         # Main Playwright configuration file

```
---
### Folder Overview

e2e/tests-api/: API test specs and utilities

e2e/tests-ui/: UI tests including fixtures, POMs, test specs, and helpers

test-evidence/: Evidence of test runs (e.g., responses, screenshots)

test-results/: Per-run test output used for debugging

playwright-report/: Human-readable HTML test reports

playwright.config.ts: Configuration for projects, browsers, timeouts, retries


## Installation

```bash
git clone https://github.com/your-username/c-and-a-automation-challenge.git
cd c-and-a-automation-challenge
npm install
npx playwright install
```

## Configuration

#### Environment Variables

Copy `.env.example` to `.env` and set your credentials:

#### UI
- New Client, we use the faker library for DDD (Data Driven Development) 
- For exsisting user testing, manually create a uniqie user and password and put these credentials into your personal .env

#### TMDB_API
1. Navigatew to themoviedb.org. 
- Create and account. 
- From the settings page click API and generate your keys.

2. Request and Create Access token [TMDB Token generator](https://developer.themoviedb.org/v4/docs/authentication-user)

step 3:the built in auth doesn't always work. Manually paste this curl into your terminal.
curl --request POST \
  --url https://api.themoviedb.org/4/auth/access_token \
  --header "Authorization: Bearer <your_v4_read_access_token>" \
  --header "accept: application/json" \
  --header "content-type: application/json" \
  --data '{
    "request_token": "<your_approved_request_token>"
  }'
